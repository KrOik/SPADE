<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>阅读进度组件演示</title>
    <!-- FontAwesome图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            padding: 20px 0;
            text-align: center;
            color: white;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            color: white;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            color: #fff;
            margin-top: 0;
            font-size: 1.8em;
            font-weight: 400;
        }

        .card p {
            margin-bottom: 20px;
            font-size: 1.1em;
            line-height: 1.7;
        }

        .demo-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .demo-section h3 {
            color: #fff;
            margin-top: 0;
            font-size: 1.4em;
        }

        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .demo-btn {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            padding: 12px 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(15px);
            font-size: 1em;
        }

        .demo-btn:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0.2));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .code-block {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            color: #e6e6e6;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .status-display {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 0.9em;
            color: #a0ff8f;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            .card {
                padding: 25px;
                margin: 20px 0;
            }
            
            header h1 {
                font-size: 2em;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>阅读进度组件演示</h1>
        <p>滚动页面查看进度条效果，滚动超过300px显示返回顶部按钮</p>
    </header>

    <div class="container">
        <div class="card">
            <h2>🚀 组件特性</h2>
            <p>这是一个现代化的阅读进度组件，具有以下特点：</p>
            <ul>
                <li>✨ 玻璃拟态设计风格</li>
                <li>📱 完全响应式适配</li>
                <li>🎨 可自定义主题颜色</li>
                <li>⚡ 高性能优化</li>
                <li>🔧 灵活的配置选项</li>
                <li>♻️ 可复用组件架构</li>
            </ul>
        </div>

        <div class="card">
            <h2>📍 进度条位置</h2>
            <p>进度条现在显示在页面header的下方，使用sticky定位始终保持在顶部可见。当您滚动页面时，可以看到进度条实时反映阅读进度。</p>
            <p>当阅读进度超过90%时，进度条会变成绿色，表示即将完成阅读。</p>
        </div>

        <div class="card">
            <h2>🎮 交互演示</h2>
            <div class="demo-section">
                <h3>组件控制</h3>
                <div class="button-group">
                    <button class="demo-btn" onclick="refreshComponent()">
                        <i class="fas fa-sync-alt"></i> 刷新组件
                    </button>
                    <button class="demo-btn" onclick="changeTheme()">
                        <i class="fas fa-palette"></i> 切换主题
                    </button>
                    <button class="demo-btn" onclick="adjustThreshold()">
                        <i class="fas fa-sliders-h"></i> 调整阈值
                    </button>
                    <button class="demo-btn" onclick="showStatus()">
                        <i class="fas fa-info-circle"></i> 显示状态
                    </button>
                </div>
                <div id="status-display" class="status-display" style="display: none;">
                    组件状态信息将在这里显示...
                </div>
            </div>
        </div>

        <div class="card">
            <h2>💻 使用方法</h2>
            <p>在您的HTML页面中引入组件非常简单：</p>
            <div class="code-block">
&lt;!-- 引入FontAwesome图标 --&gt;
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"&gt;

&lt;!-- 引入阅读进度组件 --&gt;
&lt;script src="js/reading-progress.js"&gt;&lt;/script&gt;
            </div>
            <p>组件会自动初始化，无需额外配置。</p>
        </div>

        <div class="card">
            <h2>⚙️ 自定义配置</h2>
            <p>您也可以使用自定义配置创建组件实例：</p>
            <div class="code-block">
const readingProgress = new ReadingProgressComponent({
    visibilityThreshold: 200,
    scrollDuration: 1000,
    theme: {
        primary: '#ff6b6b',
        secondary: '#4ecdc4',
        success: '#51cf66',
        successSecondary: '#8ce99a'
    },
    progressBar: {
        height: 6,
        position: 'header-bottom'
    },
    backToTop: {
        size: 60
    },
    debug: true
});
            </div>
        </div>

        <div class="card">
            <h2>📚 API 方法</h2>
            <p>组件提供了丰富的API方法供您使用：</p>
            <div class="code-block">
// 获取全局组件实例
const component = window.readingProgressComponent;

// 刷新组件状态
component.refresh();

// 设置可见阈值
component.setVisibilityThreshold(500);

// 更新主题颜色
component.setTheme({
    primary: '#667eea',
    secondary: '#764ba2'
});

// 销毁组件
component.destroy();
            </div>
        </div>

        <div class="card">
            <h2>🎨 主题系统</h2>
            <p>组件支持动态主题切换，您可以根据网站的设计风格调整颜色：</p>
            <div class="demo-section">
                <h3>预设主题</h3>
                <div class="button-group">
                    <button class="demo-btn" onclick="setTheme('default')">默认主题</button>
                    <button class="demo-btn" onclick="setTheme('ocean')">海洋主题</button>
                    <button class="demo-btn" onclick="setTheme('sunset')">日落主题</button>
                    <button class="demo-btn" onclick="setTheme('forest')">森林主题</button>
                    <button class="demo-btn" onclick="setTheme('neon')">霓虹主题</button>
                    <button class="demo-btn" onclick="setTheme('cyber')">赛博主题</button>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>📱 响应式设计</h2>
            <p>组件完全适配各种设备尺寸：</p>
            <ul>
                <li><strong>桌面端</strong>：50px 按钮，4px 进度条</li>
                <li><strong>平板端</strong>：45px 按钮，3px 进度条</li>
                <li><strong>移动端</strong>：40px 按钮，3px 进度条</li>
            </ul>
            <p>尝试调整浏览器窗口大小或在不同设备上访问以查看效果。</p>
        </div>

        <div class="card">
            <h2>🔧 技术特性</h2>
            <p>组件采用了多项先进技术确保最佳性能：</p>
            <ul>
                <li><strong>事件节流</strong>：使用 requestAnimationFrame 优化滚动事件处理</li>
                <li><strong>硬件加速</strong>：使用 CSS transform 属性实现流畅动画</li>
                <li><strong>内存管理</strong>：提供完整的销毁方法防止内存泄漏</li>
                <li><strong>模块化设计</strong>：支持 CommonJS 和全局引用</li>
                <li><strong>智能适配</strong>：自动检测页面结构并调整显示方式</li>
            </ul>
        </div>

        <div class="card">
            <h2>📄 更多内容</h2>
            <p>这里是一些额外的内容，用于演示滚动效果。继续向下滚动可以看到进度条的变化。</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
        </div>

        <div class="card">
            <h2>🎯 测试区域</h2>
            <p>这是最后一个测试区域。当您滚动到这里时，阅读进度应该接近100%，进度条会变成绿色。</p>
            <p>点击右下角的返回顶部按钮可以快速回到页面顶部。</p>
            <p>感谢您测试阅读进度组件！</p>
        </div>
    </div>

    <!-- 引入阅读进度组件 -->
    <script src="../js/reading-progress.js"></script>

    <script>
        // 演示功能
        let currentThemeIndex = 0;
        const themes = [
            {
                name: 'default',
                colors: { primary: '#00D4FF', secondary: '#FF006E', success: '#00FF88', successSecondary: '#00E676' }
            },
            {
                name: 'ocean',
                colors: { primary: '#00BFFF', secondary: '#1E90FF', success: '#00CED1', successSecondary: '#20B2AA' }
            },
            {
                name: 'sunset',
                colors: { primary: '#FF4500', secondary: '#FF6347', success: '#FFD700', successSecondary: '#FFA500' }
            },
            {
                name: 'forest',
                colors: { primary: '#32CD32', secondary: '#228B22', success: '#ADFF2F', successSecondary: '#9ACD32' }
            },
            {
                name: 'neon',
                colors: { primary: '#FF0080', secondary: '#00FF80', success: '#80FF00', successSecondary: '#FF8000' }
            },
            {
                name: 'cyber',
                colors: { primary: '#00FFFF', secondary: '#FF00FF', success: '#FFFF00', successSecondary: '#FF0040' }
            }
        ];

        function refreshComponent() {
            if (window.readingProgressComponent) {
                window.readingProgressComponent.refresh();
                showMessage('组件状态已刷新！');
            }
        }

        function changeTheme() {
            currentThemeIndex = (currentThemeIndex + 1) % themes.length;
            const theme = themes[currentThemeIndex];
            setTheme(theme.name);
        }

        function setTheme(themeName) {
            const theme = themes.find(t => t.name === themeName);
            if (theme && window.readingProgressComponent) {
                window.readingProgressComponent.setTheme(theme.colors);
                showMessage(`已切换到${theme.name}主题！`);
            }
        }

        function adjustThreshold() {
            const thresholds = [100, 200, 300, 500, 800];
            const currentThreshold = Math.floor(Math.random() * thresholds.length);
            const threshold = thresholds[currentThreshold];
            
            if (window.readingProgressComponent) {
                window.readingProgressComponent.setVisibilityThreshold(threshold);
                showMessage(`可见阈值已设置为${threshold}px！`);
            }
        }

        function showStatus() {
            const statusDiv = document.getElementById('status-display');
            if (window.readingProgressComponent) {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
                const progress = scrollHeight > 0 ? (scrollTop / scrollHeight * 100).toFixed(1) : 0;
                
                statusDiv.innerHTML = `
                    <strong>组件状态信息：</strong><br>
                    📊 当前阅读进度: ${progress}%<br>
                    📏 滚动位置: ${scrollTop}px<br>
                    📐 页面总高度: ${document.documentElement.scrollHeight}px<br>
                    🔍 可见阈值: ${window.readingProgressComponent.config.visibilityThreshold}px<br>
                    🎨 当前主题: ${themes[currentThemeIndex].name}<br>
                    ✅ 组件状态: 已初始化
                `;
                statusDiv.style.display = 'block';
                
                setTimeout(() => {
                    statusDiv.style.display = 'none';
                }, 5000);
            }
        }

        function showMessage(message) {
            const existingMsg = document.querySelector('.demo-message');
            if (existingMsg) {
                existingMsg.remove();
            }

            const msgDiv = document.createElement('div');
            msgDiv.className = 'demo-message';
            msgDiv.textContent = message;
            msgDiv.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 10000;
                font-size: 14px;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                animation: slideIn 0.3s ease-out;
            `;

            // 添加动画样式
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
            `;
            document.head.appendChild(style);

            document.body.appendChild(msgDiv);

            setTimeout(() => {
                msgDiv.style.animation = 'slideIn 0.3s ease-out reverse';
                setTimeout(() => {
                    msgDiv.remove();
                    style.remove();
                }, 300);
            }, 2000);
        }

        // 页面加载完成后显示欢迎信息
        window.addEventListener('load', () => {
            setTimeout(() => {
                showMessage('阅读进度组件演示页面已加载完成！');
            }, 1000);
        });
    </script>
</body>
</html> 