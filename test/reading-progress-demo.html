<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é˜…è¯»è¿›åº¦ç»„ä»¶æ¼”ç¤º</title>
    <!-- FontAwesomeå›¾æ ‡ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            padding: 20px 0;
            text-align: center;
            color: white;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            color: white;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            color: #fff;
            margin-top: 0;
            font-size: 1.8em;
            font-weight: 400;
        }

        .card p {
            margin-bottom: 20px;
            font-size: 1.1em;
            line-height: 1.7;
        }

        .demo-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .demo-section h3 {
            color: #fff;
            margin-top: 0;
            font-size: 1.4em;
        }

        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .demo-btn {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: white;
            padding: 12px 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(15px);
            font-size: 1em;
        }

        .demo-btn:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0.2));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .code-block {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            color: #e6e6e6;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .status-display {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 0.9em;
            color: #a0ff8f;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            .card {
                padding: 25px;
                margin: 20px 0;
            }
            
            header h1 {
                font-size: 2em;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>é˜…è¯»è¿›åº¦ç»„ä»¶æ¼”ç¤º</h1>
        <p>æ»šåŠ¨é¡µé¢æŸ¥çœ‹è¿›åº¦æ¡æ•ˆæœï¼Œæ»šåŠ¨è¶…è¿‡300pxæ˜¾ç¤ºè¿”å›é¡¶éƒ¨æŒ‰é’®</p>
    </header>

    <div class="container">
        <div class="card">
            <h2>ğŸš€ ç»„ä»¶ç‰¹æ€§</h2>
            <p>è¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„é˜…è¯»è¿›åº¦ç»„ä»¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
            <ul>
                <li>âœ¨ ç»ç’ƒæ‹Ÿæ€è®¾è®¡é£æ ¼</li>
                <li>ğŸ“± å®Œå…¨å“åº”å¼é€‚é…</li>
                <li>ğŸ¨ å¯è‡ªå®šä¹‰ä¸»é¢˜é¢œè‰²</li>
                <li>âš¡ é«˜æ€§èƒ½ä¼˜åŒ–</li>
                <li>ğŸ”§ çµæ´»çš„é…ç½®é€‰é¡¹</li>
                <li>â™»ï¸ å¯å¤ç”¨ç»„ä»¶æ¶æ„</li>
            </ul>
        </div>

        <div class="card">
            <h2>ğŸ“ è¿›åº¦æ¡ä½ç½®</h2>
            <p>è¿›åº¦æ¡ç°åœ¨æ˜¾ç¤ºåœ¨é¡µé¢headerçš„ä¸‹æ–¹ï¼Œä½¿ç”¨stickyå®šä½å§‹ç»ˆä¿æŒåœ¨é¡¶éƒ¨å¯è§ã€‚å½“æ‚¨æ»šåŠ¨é¡µé¢æ—¶ï¼Œå¯ä»¥çœ‹åˆ°è¿›åº¦æ¡å®æ—¶åæ˜ é˜…è¯»è¿›åº¦ã€‚</p>
            <p>å½“é˜…è¯»è¿›åº¦è¶…è¿‡90%æ—¶ï¼Œè¿›åº¦æ¡ä¼šå˜æˆç»¿è‰²ï¼Œè¡¨ç¤ºå³å°†å®Œæˆé˜…è¯»ã€‚</p>
        </div>

        <div class="card">
            <h2>ğŸ® äº¤äº’æ¼”ç¤º</h2>
            <div class="demo-section">
                <h3>ç»„ä»¶æ§åˆ¶</h3>
                <div class="button-group">
                    <button class="demo-btn" onclick="refreshComponent()">
                        <i class="fas fa-sync-alt"></i> åˆ·æ–°ç»„ä»¶
                    </button>
                    <button class="demo-btn" onclick="changeTheme()">
                        <i class="fas fa-palette"></i> åˆ‡æ¢ä¸»é¢˜
                    </button>
                    <button class="demo-btn" onclick="adjustThreshold()">
                        <i class="fas fa-sliders-h"></i> è°ƒæ•´é˜ˆå€¼
                    </button>
                    <button class="demo-btn" onclick="showStatus()">
                        <i class="fas fa-info-circle"></i> æ˜¾ç¤ºçŠ¶æ€
                    </button>
                </div>
                <div id="status-display" class="status-display" style="display: none;">
                    ç»„ä»¶çŠ¶æ€ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º...
                </div>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ’» ä½¿ç”¨æ–¹æ³•</h2>
            <p>åœ¨æ‚¨çš„HTMLé¡µé¢ä¸­å¼•å…¥ç»„ä»¶éå¸¸ç®€å•ï¼š</p>
            <div class="code-block">
&lt;!-- å¼•å…¥FontAwesomeå›¾æ ‡ --&gt;
&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"&gt;

&lt;!-- å¼•å…¥é˜…è¯»è¿›åº¦ç»„ä»¶ --&gt;
&lt;script src="js/reading-progress.js"&gt;&lt;/script&gt;
            </div>
            <p>ç»„ä»¶ä¼šè‡ªåŠ¨åˆå§‹åŒ–ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚</p>
        </div>

        <div class="card">
            <h2>âš™ï¸ è‡ªå®šä¹‰é…ç½®</h2>
            <p>æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é…ç½®åˆ›å»ºç»„ä»¶å®ä¾‹ï¼š</p>
            <div class="code-block">
const readingProgress = new ReadingProgressComponent({
    visibilityThreshold: 200,
    scrollDuration: 1000,
    theme: {
        primary: '#ff6b6b',
        secondary: '#4ecdc4',
        success: '#51cf66',
        successSecondary: '#8ce99a'
    },
    progressBar: {
        height: 6,
        position: 'header-bottom'
    },
    backToTop: {
        size: 60
    },
    debug: true
});
            </div>
        </div>

        <div class="card">
            <h2>ğŸ“š API æ–¹æ³•</h2>
            <p>ç»„ä»¶æä¾›äº†ä¸°å¯Œçš„APIæ–¹æ³•ä¾›æ‚¨ä½¿ç”¨ï¼š</p>
            <div class="code-block">
// è·å–å…¨å±€ç»„ä»¶å®ä¾‹
const component = window.readingProgressComponent;

// åˆ·æ–°ç»„ä»¶çŠ¶æ€
component.refresh();

// è®¾ç½®å¯è§é˜ˆå€¼
component.setVisibilityThreshold(500);

// æ›´æ–°ä¸»é¢˜é¢œè‰²
component.setTheme({
    primary: '#667eea',
    secondary: '#764ba2'
});

// é”€æ¯ç»„ä»¶
component.destroy();
            </div>
        </div>

        <div class="card">
            <h2>ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ</h2>
            <p>ç»„ä»¶æ”¯æŒåŠ¨æ€ä¸»é¢˜åˆ‡æ¢ï¼Œæ‚¨å¯ä»¥æ ¹æ®ç½‘ç«™çš„è®¾è®¡é£æ ¼è°ƒæ•´é¢œè‰²ï¼š</p>
            <div class="demo-section">
                <h3>é¢„è®¾ä¸»é¢˜</h3>
                <div class="button-group">
                    <button class="demo-btn" onclick="setTheme('default')">é»˜è®¤ä¸»é¢˜</button>
                    <button class="demo-btn" onclick="setTheme('ocean')">æµ·æ´‹ä¸»é¢˜</button>
                    <button class="demo-btn" onclick="setTheme('sunset')">æ—¥è½ä¸»é¢˜</button>
                    <button class="demo-btn" onclick="setTheme('forest')">æ£®æ—ä¸»é¢˜</button>
                    <button class="demo-btn" onclick="setTheme('neon')">éœ“è™¹ä¸»é¢˜</button>
                    <button class="demo-btn" onclick="setTheme('cyber')">èµ›åšä¸»é¢˜</button>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ“± å“åº”å¼è®¾è®¡</h2>
            <p>ç»„ä»¶å®Œå…¨é€‚é…å„ç§è®¾å¤‡å°ºå¯¸ï¼š</p>
            <ul>
                <li><strong>æ¡Œé¢ç«¯</strong>ï¼š50px æŒ‰é’®ï¼Œ4px è¿›åº¦æ¡</li>
                <li><strong>å¹³æ¿ç«¯</strong>ï¼š45px æŒ‰é’®ï¼Œ3px è¿›åº¦æ¡</li>
                <li><strong>ç§»åŠ¨ç«¯</strong>ï¼š40px æŒ‰é’®ï¼Œ3px è¿›åº¦æ¡</li>
            </ul>
            <p>å°è¯•è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°æˆ–åœ¨ä¸åŒè®¾å¤‡ä¸Šè®¿é—®ä»¥æŸ¥çœ‹æ•ˆæœã€‚</p>
        </div>

        <div class="card">
            <h2>ğŸ”§ æŠ€æœ¯ç‰¹æ€§</h2>
            <p>ç»„ä»¶é‡‡ç”¨äº†å¤šé¡¹å…ˆè¿›æŠ€æœ¯ç¡®ä¿æœ€ä½³æ€§èƒ½ï¼š</p>
            <ul>
                <li><strong>äº‹ä»¶èŠ‚æµ</strong>ï¼šä½¿ç”¨ requestAnimationFrame ä¼˜åŒ–æ»šåŠ¨äº‹ä»¶å¤„ç†</li>
                <li><strong>ç¡¬ä»¶åŠ é€Ÿ</strong>ï¼šä½¿ç”¨ CSS transform å±æ€§å®ç°æµç•…åŠ¨ç”»</li>
                <li><strong>å†…å­˜ç®¡ç†</strong>ï¼šæä¾›å®Œæ•´çš„é”€æ¯æ–¹æ³•é˜²æ­¢å†…å­˜æ³„æ¼</li>
                <li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šæ”¯æŒ CommonJS å’Œå…¨å±€å¼•ç”¨</li>
                <li><strong>æ™ºèƒ½é€‚é…</strong>ï¼šè‡ªåŠ¨æ£€æµ‹é¡µé¢ç»“æ„å¹¶è°ƒæ•´æ˜¾ç¤ºæ–¹å¼</li>
            </ul>
        </div>

        <div class="card">
            <h2>ğŸ“„ æ›´å¤šå†…å®¹</h2>
            <p>è¿™é‡Œæ˜¯ä¸€äº›é¢å¤–çš„å†…å®¹ï¼Œç”¨äºæ¼”ç¤ºæ»šåŠ¨æ•ˆæœã€‚ç»§ç»­å‘ä¸‹æ»šåŠ¨å¯ä»¥çœ‹åˆ°è¿›åº¦æ¡çš„å˜åŒ–ã€‚</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
        </div>

        <div class="card">
            <h2>ğŸ¯ æµ‹è¯•åŒºåŸŸ</h2>
            <p>è¿™æ˜¯æœ€åä¸€ä¸ªæµ‹è¯•åŒºåŸŸã€‚å½“æ‚¨æ»šåŠ¨åˆ°è¿™é‡Œæ—¶ï¼Œé˜…è¯»è¿›åº¦åº”è¯¥æ¥è¿‘100%ï¼Œè¿›åº¦æ¡ä¼šå˜æˆç»¿è‰²ã€‚</p>
            <p>ç‚¹å‡»å³ä¸‹è§’çš„è¿”å›é¡¶éƒ¨æŒ‰é’®å¯ä»¥å¿«é€Ÿå›åˆ°é¡µé¢é¡¶éƒ¨ã€‚</p>
            <p>æ„Ÿè°¢æ‚¨æµ‹è¯•é˜…è¯»è¿›åº¦ç»„ä»¶ï¼</p>
        </div>
    </div>

    <!-- å¼•å…¥é˜…è¯»è¿›åº¦ç»„ä»¶ -->
    <script src="../js/reading-progress.js"></script>

    <script>
        // æ¼”ç¤ºåŠŸèƒ½
        let currentThemeIndex = 0;
        const themes = [
            {
                name: 'default',
                colors: { primary: '#00D4FF', secondary: '#FF006E', success: '#00FF88', successSecondary: '#00E676' }
            },
            {
                name: 'ocean',
                colors: { primary: '#00BFFF', secondary: '#1E90FF', success: '#00CED1', successSecondary: '#20B2AA' }
            },
            {
                name: 'sunset',
                colors: { primary: '#FF4500', secondary: '#FF6347', success: '#FFD700', successSecondary: '#FFA500' }
            },
            {
                name: 'forest',
                colors: { primary: '#32CD32', secondary: '#228B22', success: '#ADFF2F', successSecondary: '#9ACD32' }
            },
            {
                name: 'neon',
                colors: { primary: '#FF0080', secondary: '#00FF80', success: '#80FF00', successSecondary: '#FF8000' }
            },
            {
                name: 'cyber',
                colors: { primary: '#00FFFF', secondary: '#FF00FF', success: '#FFFF00', successSecondary: '#FF0040' }
            }
        ];

        function refreshComponent() {
            if (window.readingProgressComponent) {
                window.readingProgressComponent.refresh();
                showMessage('ç»„ä»¶çŠ¶æ€å·²åˆ·æ–°ï¼');
            }
        }

        function changeTheme() {
            currentThemeIndex = (currentThemeIndex + 1) % themes.length;
            const theme = themes[currentThemeIndex];
            setTheme(theme.name);
        }

        function setTheme(themeName) {
            const theme = themes.find(t => t.name === themeName);
            if (theme && window.readingProgressComponent) {
                window.readingProgressComponent.setTheme(theme.colors);
                showMessage(`å·²åˆ‡æ¢åˆ°${theme.name}ä¸»é¢˜ï¼`);
            }
        }

        function adjustThreshold() {
            const thresholds = [100, 200, 300, 500, 800];
            const currentThreshold = Math.floor(Math.random() * thresholds.length);
            const threshold = thresholds[currentThreshold];
            
            if (window.readingProgressComponent) {
                window.readingProgressComponent.setVisibilityThreshold(threshold);
                showMessage(`å¯è§é˜ˆå€¼å·²è®¾ç½®ä¸º${threshold}pxï¼`);
            }
        }

        function showStatus() {
            const statusDiv = document.getElementById('status-display');
            if (window.readingProgressComponent) {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
                const progress = scrollHeight > 0 ? (scrollTop / scrollHeight * 100).toFixed(1) : 0;
                
                statusDiv.innerHTML = `
                    <strong>ç»„ä»¶çŠ¶æ€ä¿¡æ¯ï¼š</strong><br>
                    ğŸ“Š å½“å‰é˜…è¯»è¿›åº¦: ${progress}%<br>
                    ğŸ“ æ»šåŠ¨ä½ç½®: ${scrollTop}px<br>
                    ğŸ“ é¡µé¢æ€»é«˜åº¦: ${document.documentElement.scrollHeight}px<br>
                    ğŸ” å¯è§é˜ˆå€¼: ${window.readingProgressComponent.config.visibilityThreshold}px<br>
                    ğŸ¨ å½“å‰ä¸»é¢˜: ${themes[currentThemeIndex].name}<br>
                    âœ… ç»„ä»¶çŠ¶æ€: å·²åˆå§‹åŒ–
                `;
                statusDiv.style.display = 'block';
                
                setTimeout(() => {
                    statusDiv.style.display = 'none';
                }, 5000);
            }
        }

        function showMessage(message) {
            const existingMsg = document.querySelector('.demo-message');
            if (existingMsg) {
                existingMsg.remove();
            }

            const msgDiv = document.createElement('div');
            msgDiv.className = 'demo-message';
            msgDiv.textContent = message;
            msgDiv.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 10000;
                font-size: 14px;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                animation: slideIn 0.3s ease-out;
            `;

            // æ·»åŠ åŠ¨ç”»æ ·å¼
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
            `;
            document.head.appendChild(style);

            document.body.appendChild(msgDiv);

            setTimeout(() => {
                msgDiv.style.animation = 'slideIn 0.3s ease-out reverse';
                setTimeout(() => {
                    msgDiv.remove();
                    style.remove();
                }, 300);
            }, 2000);
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
        window.addEventListener('load', () => {
            setTimeout(() => {
                showMessage('é˜…è¯»è¿›åº¦ç»„ä»¶æ¼”ç¤ºé¡µé¢å·²åŠ è½½å®Œæˆï¼');
            }, 1000);
        });
    </script>
</body>
</html> 