/* Base for loading screen */
#loading-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: transparent; /* Keep transparent to see curtains */
    z-index: 10001;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    overflow: hidden;
    transition: opacity 0.5s ease-out;
}

#hexagon-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1; /* Place it behind all other loading content */
}

#mecha-splitter {
    position: absolute;
    width: 60%;
    height: 2px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.7), transparent);
    box-shadow: 0 0 5px #fff, 0 0 10px #fff;
    transition: opacity 0.5s ease-out;
}

#mecha-splitter::before,
#mecha-splitter::after {
    content: '';
    position: absolute;
    top: 50%;
    width: 15%;
    height: 2px;
    background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.7));
    box-shadow: 0 0 5px #fff;
}

#mecha-splitter::before {
    left: -15%;
    transform: translateY(-50%) skewX(-30deg);
    transform-origin: right;
}

#mecha-splitter::after {
    right: -15%;
    transform: translateY(-50%) skewX(30deg);
    transform-origin: left;
    background: linear-gradient(to left, transparent, rgba(255, 255, 255, 0.7));
}

#loading-container svg {
	display: none;
}

.progress-wrapper {
    position: absolute;
    bottom: 15%; /* Position it below the blob animation */
    transition: opacity 0.5s ease-out;
}

.loading-text {
    color: #ffffff; /* White text */
    font-family: 'Orbitron', sans-serif; /* Mecha style font */
    font-size: 1.5em;
    letter-spacing: 4px;
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.7), 0 0 10px rgba(255, 255, 255, 0.5); /* Soft white glow */
}


/* Split animation curtains */
.loading-curtain {
    position: fixed;
    left: 0;
    width: 100%;
    height: 50vh;
    /* Main theme gradient */
    background: linear-gradient(#2b1055, #7597de);
    z-index: 10000;
    transition: transform 1s cubic-bezier(0.86, 0, 0.07, 1); /* Remove border transition */
    box-sizing: border-box;
}

#loading-top-curtain {
    top: 0;
    transform-origin: top;
    border-bottom: none; /* No more border */
}

#loading-bottom-curtain {
    bottom: 0;
    transform-origin: bottom;
    border-top: none; /* No more border */
    /* Adjust background gradient for bottom curtain to align visually */
    background-position: bottom;
}

/* Class to trigger exit animation - No more border changes */
body.loading-done #loading-top-curtain {
    transform: translateY(-100%);
}

body.loading-done #loading-bottom-curtain {
    transform: translateY(100%);
}

body.loading-done #loading-container {
    opacity: 0;
    transform-style: preserve-3d;
    transition: opacity 0.5s ease-out;
}

/* Blob Loader Styles */
.blobs {
	filter: url(#goo);
	width: 300px;
	height: 300px;
	position: absolute; /* Changed for specific positioning */
    top: 35%; /* Moved up */
    left: 50%;
    transform: translate(-50%, -50%);
	overflow: hidden;
	border-radius: 70px;
	transform-style: preserve-3d;
    transition: opacity 0.5s ease-out;
}

.blob-center {
    transform-style: preserve-3d;
    position: absolute;
    background: #ffffff; /* White blobs */
    top: 50%;
    left: 50%;
    width: 30px;
    height: 30px;
    transform-origin: left top;
    transform: scale(.9) translate(-50%, -50%);
    animation: blob-grow linear 3.4s infinite;
    border-radius: 50%;
    box-shadow: 0 -10px 40px -5px rgba(255, 255, 255, 0.7); /* Soft white glow */
}

.blob {
	position: absolute;
	background: #ffffff; /* White blobs */
	top: 50%;
	left: 50%;
	width: 30px;
	height: 30px;
	border-radius: 50%;
	animation: blobs ease-out 3.4s infinite;
	transform: scale(.9) translate(-50%, -50%);
	transform-origin: center top;
	opacity: 0;
}

.blob:nth-child(2) { animation-delay: 0.2s; }
.blob:nth-child(3) { animation-delay: 0.4s; }
.blob:nth-child(4) { animation-delay: 0.6s; }
.blob:nth-child(5) { animation-delay: 0.8s; }
.blob:nth-child(6) { animation-delay: 1.0s; }
.blob:nth-child(7) { animation-delay: 1.2s; }


/* Keyframes */
@keyframes blobs {
	0% {
		opacity: 0;
		transform: scale(0) translate(calc(-330px - 50%), -50%);
	}
	1% {
		opacity: 1;
	}
	35%,65% {
		opacity: 1;
		transform: scale(.9) translate(-50%, -50%);
	}
	99% {
		opacity: 1;
	}
	100% {
		opacity: 0;
		transform: scale(0) translate(calc(330px - 50%), -50%);
	}
}

@keyframes blob-grow {
	0%,  39% {
		transform: scale(0) translate(-50%, -50%);
	}
	40%, 42% {
		transform: scale(1, .9) translate(-50%, -50%);
	}
	43%, 44% {
		transform: scale(1.2, 1.1) translate(-50%, -50%);
	}
	45%, 46% {
		transform: scale(1.3, 1.2) translate(-50%, -50%);
	}
	47%, 48% {
		transform: scale(1.4, 1.3) translate(-50%, -50%);
	}
	52%{
		transform: scale(1.5, 1.4) translate(-50%, -50%);
	}
	54% {
		transform: scale(1.7, 1.6) translate(-50%, -50%);
	}
	58% {
		transform: scale(1.8, 1.7) translate(-50%, -50%);
	}
	68%, 70% {
		transform: scale(1.7, 1.5) translate(-50%, -50%);
	}
	78% {
		transform: scale(1.6, 1.4) translate(-50%, -50%);
	}
	80%, 81% {
		transform: scale(1.5, 1.4) translate(-50%, -50%);
	}
	82%, 83% {
		transform: scale(1.4, 1.3) translate(-50%, -50%);
	}
	84%, 85% {
		transform: scale(1.3, 1.2) translate(-50%, -50%);
	}
	86%, 87% {
		transform: scale(1.2, 1.1) translate(-50%, -50%);
	}
	90%, 91% {
		transform: scale(1, .9) translate(-50%, -50%);
	}
	92%, 100% {
		transform: scale(0) translate(-50%, -50%);
	}
} 